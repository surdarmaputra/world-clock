(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8317:function(e,l,t){Promise.resolve().then(t.bind(t,2010))},2010:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return Y}});var n=t(7437),a=t(2265),s=t(2929),r=t(2695),o=t(2333),i=t(9222);let c=i.Z.create({baseURL:"https://worldtimeapi.org/api",headers:{Accept:"application/json","Content-Type":"application/json"}});async function u(e,l){let{url:t,...n}=e,a=await c({url:t,...n,...l});return null==a?void 0:a.data}let d=(e,l,t)=>u({url:"/timezone/".concat(e,"/").concat(l),method:"get"},t),m=(e,l)=>["/timezone/".concat(e,"/").concat(l)],f=(e,l,t)=>{var n;let{swr:a,request:s}=null!=t?t:{},r=(null==a?void 0:a.enabled)!==!1&&!!(e&&l),i=null!==(n=null==a?void 0:a.swrKey)&&void 0!==n?n:()=>r?m(e,l):null,c=(0,o.ZP)(i,()=>d(e,l,s),a);return{swrKey:i,...c}},x=e=>u({url:"/ip",method:"get"},e),h=()=>["/ip"],b=e=>{var l;let{swr:t,request:n}=null!=e?e:{},a=(null==t?void 0:t.enabled)!==!1,s=null!==(l=null==t?void 0:t.swrKey)&&void 0!==l?l:()=>a?h():null,r=(0,o.ZP)(s,()=>x(n),t);return{swrKey:s,...r}};function v(e){let{clockData:l,refetch:t}=e;(0,a.useEffect)(()=>{if(!l)return;let e=60-Math.ceil(null==l?void 0:l.seconds),n=setTimeout(()=>t(),1e3*e+500);return()=>{clearTimeout(n)}},[l,t])}function p(e){if(!e)return null;let[,l]=e.timezone.split("/"),[,t]=e.datetime.split("T"),[n,a,s]=t.split(":"),[r]=s.includes("-")?s.split("-"):s.split("+"),o="0".concat(n).slice(-2),i="0".concat(a).slice(-2),[c]=e.utc_offset.split(":"),u=Number(c||0);return{abbreviation:e.abbreviation,formattedHours:o,formattedMinutes:i,hours:Number(n),location:l.replace("_"," "),minutes:Number(a),seconds:Number(r),utcOffsetHours:u}}function j(e){let{onChange:l}=e,{data:t,isLoading:a,mutate:s}=b(),o=p(t),i=a||!o;return null==l||l(o),v({clockData:o,refetch(){s()}}),(0,n.jsx)("div",{className:"text-center mb-10 p-16",children:i?(0,n.jsx)(r.c,{size:"lg"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"text-2xl mb-1",children:null==o?void 0:o.location}),(0,n.jsxs)("h2",{className:"text-6xl font-bold",children:[null==o?void 0:o.formattedHours,":",null==o?void 0:o.formattedMinutes]})]})})}var g=t(2783),N=t(667),w=t(6400),y=t(4328);let A=[{label:"Singapore",value:"Asia/Singapore"},{label:"Tokyo",value:"Asia/Tokyo"},{label:"Seoul",value:"Asia/Seoul"},{label:"Melbourne",value:"Australia/Melbourne"},{label:"Sydney",value:"Australia/Sydney"},{label:"London",value:"Europe/London"},{label:"Paris",value:"Europe/Paris"},{label:"Berlin",value:"Europe/Berlin"},{label:"New York",value:"America/New_York"},{label:"Los Angeles",value:"America/Los_Angeles"}].sort((e,l)=>e.label<l.label?-1:e.label>l.label?1:0),O="displayedClocks";function k(e,l){let t;t=Array.isArray(l)?JSON.stringify(l):l,window.localStorage.setItem(e,t)}var z=t(1865),C=t(4776),S=t(4823),L=t(1310),H=t(1718),_=t(9571),M=t(2913),P=t(390),E=t(9174);function T(e){let{excludedTimezones:l=[],isOpen:t,onOpenChange:s,onSubmit:r}=e,{control:o,handleSubmit:i,register:c,reset:u}=(0,z.cI)({defaultValues:{label:"",timezone:""}}),{errors:d}=(0,z.cl)({control:o}),m=A.filter(e=>!l.includes(e.value)),f=i(e=>{null==r||r(e)});return(0,a.useEffect)(()=>{t||u()},[t,u]),(0,n.jsx)(S.R,{isOpen:t,onOpenChange:s,placement:"top-center",children:(0,n.jsx)(L.A,{children:e=>{var l,t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H.k,{className:"flex flex-col gap-1",children:"Add New Clock"}),(0,n.jsx)(_.I,{children:(0,n.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:f,children:[(0,n.jsx)(P.g,{autoFocus:!0,disableAnimation:!0,errorMessage:null==d?void 0:null===(l=d.timezone)||void 0===l?void 0:l.message,isInvalid:!!(null==d?void 0:d.timezone),label:"City",placeholder:"Select city",variant:"bordered",...c("timezone",{required:"Please select any city"}),children:m.map(e=>{let{label:l,value:t}=e;return(0,n.jsx)(E.R,{value:t,children:l},t)})}),(0,n.jsx)(C.Y,{errorMessage:null==d?void 0:null===(t=d.label)||void 0===t?void 0:t.message,isInvalid:!!(null==d?void 0:d.label),label:(0,n.jsxs)("div",{children:["Label"," ",(0,n.jsx)("span",{className:"ml-1 text-default-400",children:"(Optional)"})]}),placeholder:"Hometown, office or anything...",variant:"bordered",...c("label",{maxLength:{value:20,message:"Maximum 20 characters"}})})]})}),(0,n.jsxs)(M.R,{children:[(0,n.jsx)(N.A,{color:"default",onPress:e,variant:"flat",children:"Cancel"}),(0,n.jsx)(N.A,{color:"primary",onPress:()=>f(),children:"Add Clock"})]})]})}})})}var I=t(2893),R=t(6914),Z=t(1507),q=t(5919);function F(e){let{label:l,mainClockLocation:t,onRemove:a,timezone:s}=e,[o,i]=s.split("/"),{data:c,isLoading:u,mutate:d}=f(o,i),m=p(c),x=((null==m?void 0:m.utcOffsetHours)||0)-t.utcOffsetHours,h="".concat(Math.abs(x)," hours ").concat(x>=0?"ahead":"behind"," ").concat(t.location),b=u||!m;return v({clockData:m,refetch(){d()}}),(0,n.jsxs)(R.w,{className:"w-full sm:w-44 h-60 transition hover:-translate-y-1 group shadow-2xl border-default-50 border-1 shadow-default-200 overflow-visible",children:[(0,n.jsx)(Z.G,{className:"text-center flex flex-col items-center ".concat(b?"justify-center":"justify-between"),children:b?(0,n.jsx)(r.c,{size:"lg"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h1",{className:"h-10",children:[(0,n.jsx)("div",{children:m.location}),(0,n.jsx)("div",{className:"text-sm text-default-400",children:l})]}),(0,n.jsxs)("h2",{className:"text-3xl font-bold my-6",children:[m.formattedHours,":",m.formattedMinutes]}),(0,n.jsx)("div",{className:"mb-1",children:(0,n.jsx)(q.z,{className:"border-1 px-2 text-default-500",color:"default",size:"sm",variant:"bordered",children:m.abbreviation})}),(0,n.jsx)("div",{className:"text-xs text-default-400",children:h})]})}),(0,n.jsx)(I.Z,{className:"text-danger-500 absolute -right-1 -top-1 cursor-pointer z-10 w-6 h-6 opacity-0 group-hover:opacity-100 transition",onClick:()=>null==a?void 0:a()})]})}function J(e){let{mainClockLocation:l}=e,{isOpen:t,onOpen:s,onOpenChange:r}=(0,w.q)(),o=function(e){let l;let t=window.localStorage.getItem(e);if(!t)return t;try{l=JSON.parse(t)}catch(e){l=t}return l}(O)||[],[i,c]=(0,a.useState)(o),u=i.map(e=>{let{timezone:l}=e;return l}),d=i.length<4,m=e=>{let l=i.filter(l=>l.timezone!==e);c(l),k(O,l)};return(0,n.jsxs)("div",{className:"flex gap-6 justify-center flex-col sm:flex-row",children:[i.map(e=>{let{label:t,timezone:a}=e;return(0,n.jsx)(F,{label:t,mainClockLocation:l,onRemove:()=>m(a),timezone:a},a)}),d&&(0,n.jsx)(y.e,{color:"foreground",content:"Add world clock",placement:"bottom",showArrow:!0,children:(0,n.jsx)(N.A,{className:"w-full sm:w-44 h-60 border-default-400 border-dashed border-1",disableRipple:!0,onPress:s,variant:"bordered",children:(0,n.jsx)(g.Z,{className:"text-default-400"})})}),(0,n.jsx)(T,{excludedTimezones:u,isOpen:t,onOpenChange:r,onSubmit:e=>{let l=[...i,{timezone:e.timezone,label:e.label}];c(l),k(O,l),r()}})]})}function Y(){let[e,l]=(0,a.useState)({location:"Jakarta",utcOffsetHours:7});return(0,n.jsxs)("main",{children:[(0,n.jsxs)("h1",{className:"text-center text-xl font-bold flex items-center justify-center mb-8",children:[(0,n.jsx)(s.Z,{className:"w-8 h-8 mr-2"}),"World Clock"]}),(0,n.jsx)(j,{onChange:t=>{t&&t.utcOffsetHours!==e.utcOffsetHours&&l({location:t.location,utcOffsetHours:t.utcOffsetHours})}}),(0,n.jsx)(J,{mainClockLocation:e})]})}}},function(e){e.O(0,[111,242,971,864,744],function(){return e(e.s=8317)}),_N_E=e.O()}]);